/*
 * The MIT License
 *
 * (MIT)Copyright (c) 2015 artjomb
 */
!function(c,e){"function"==typeof define&&define.amd?define(["crypto-js/core","crypto-js/cipher-core"],e):e(c.CryptoJS)}(this,function(c){var e=c.lib.BlockCipherMode.extend();function o(c,e,o){for(var i=this,t=i._cipher,r=t.blockSize,n=i._prevBlock,l=t.cfg.segmentSize/32,s=0;s<r/l;s++){n?n=n.slice(l).concat(i._ct):(n=i._iv.slice(0),i._iv=void 0),o||(i._ct=c.slice(e+s*l,e+s*l+l));var p=n.slice(0);t.encryptBlock(p,0);for(var f=0;f<l;f++)c[e+s*l+f]^=p[f];o&&(i._ct=c.slice(e+s*l,e+s*l+l))}i._prevBlock=n}e.Encryptor=e.extend({processBlock:function(c,e){o.call(this,c,e,!0)}}),e.Decryptor=e.extend({processBlock:function(c,e){o.call(this,c,e,!1)}}),c.mode.CFBw=e});