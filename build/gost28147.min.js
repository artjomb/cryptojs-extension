/*
 * The MIT License
 *
 * (MIT)Copyright (c) 2015 artjomb
 */
!function(r,n){"function"==typeof define&&define.amd?define(["crypto-js/core","crypto-js/cipher-core"],n):n(r.CryptoJS)}(this,function(r){for(var n,o,t=r.lib.BlockCipher,e=r.algo,c=[],i=[[4,10,9,2,13,8,0,14,6,11,1,12,7,15,5,3],[14,11,4,12,6,13,15,10,2,3,8,1,0,7,5,9],[5,8,1,13,10,3,4,2,14,15,12,7,6,0,9,11],[7,13,10,1,0,8,9,15,14,4,6,12,11,2,5,3],[6,12,7,1,5,15,13,8,4,10,9,14,0,3,11,2],[4,11,10,0,7,2,1,13,3,6,8,5,9,12,15,14],[13,11,4,1,3,15,5,9,0,10,14,7,6,8,2,12],[1,15,13,0,5,7,10,4,9,2,3,14,6,11,8,12]],f=c,u=0,s=0;u<4;u++,s+=2)for(f.push([]),n=0;n<256;n++)o=(i[s][15&n]|i[s+1][n>>4]<<4)<<4*s,f[u][n]=o<<11|o>>>21;function p(r){return c[3][r>>>24]^c[2][(16711680&r)>>>16]^c[1][(65280&r)>>>8]^c[0][255&r]}function a(r){return r>>>24|r>>>8&65280|(65280&r)<<8|(255&r)<<24}e=e.Gost28147=t.extend({_doReset:function(){this.__ck=function(r){for(var n=r.words,o=(n=n||[]).length;o<8;o++)n.push(0);return n.slice(0,8).map(a)}(this._key)},encryptBlock:function(r,n){var o=function(r,n,o){var t;for(r=a(r),n=a(n),t=0;t<23;t+=2)r^=p(n+o[t%8]),n^=p(r+o[(t+1)%8]);for(t=24;t<31;t+=2)r^=p(n+o[31-t]),n^=p(r+o[31-(t+1)]);return[a(r),a(n)]}(r[n+1],r[n],this.__ck);r[n]=o[0],r[n+1]=o[1]},decryptBlock:function(r,n){var o=function(r,n,o){var t;for(r=a(r),n=a(n),t=0;t<7;t+=2)r^=p(n+o[t]),n^=p(r+o[t+1]);for(t=8;t<31;t+=2)r^=p(n+o[(31-t)%8]),n^=p(r+o[(31-(t+1))%8]);return[a(r),a(n)]}(r[n+1],r[n],this.__ck);r[n]=o[0],r[n+1]=o[1]},blockSize:2,keySize:8});r.Gost28147=t._createHelper(e)});